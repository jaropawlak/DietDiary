<html>
    <head>
        <meta name="viewport" content="width=800" />
        <title>Diet diary</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
            <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" >
            <script
			  src="https://code.jquery.com/jquery-3.4.1.min.js"
			  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
			  crossorigin="anonymous"></script>
            <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4-4.1.1/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-html5-1.5.6/b-print-1.5.6/datatables.min.css"/> 
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
            <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
            <script type="text/javascript" src="https://cdn.datatables.net/v/bs4-4.1.1/jszip-2.5.0/dt-1.10.18/b-1.5.6/b-html5-1.5.6/b-print-1.5.6/datatables.js"></script>     
            <script src="https://cdn.datatables.net/plug-ins/1.10.19/dataRender/datetime.js"></script>             
            <script src="https://cdn.apple-cloudkit.com/ck/2/cloudkit.js"></script>     
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>     
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"   integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="   crossorigin="anonymous"></script>
            
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
            <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

            <script src="LoginState.js"></script>     
            <script src="DataAccess.js"></script>     
            <script src="FoodLog.js"></script>
            <link rel="stylesheet" type="text/css" href="style.css"/>
          
    </head>
    <body>
        <div class="header">
            <h1 class="title">Diet diary</h1>
            <h3 class="subtitle">Log what your eat. Know how it affects you. Make reports for your dietician.</h2>
        </div>
        <div class="main-content">
            <div class="login-controls">
                <p id="login-info">Log in to start</p>
                <div class="sign-buttons">
                <div id="apple-sign-in-button"></div>
                <div id="apple-sign-out-button"></div>
                </div>
            </div>    
            <div  id="ForLoggedIn" style="display:none">

                <div class="tab" id="tabbar">
                    <button class="tablinks active" onclick="openTab(event, 'NewEvent')">Add new event</button>
                    <button class="tablinks" onclick="openTab(event, 'Category')">Manage your categories</button>
                    <button class="tablinks" onclick="openTab(event, 'Logbook')">Reports</button>
                </div>

       
            <div id="Category" class="tabcontent">
                <h3>Categories</h3>
                <div id="categoryList"></div>
                <fieldset><legend>Delete category</legend>
                Delete selected categories <button onclick="if (confirm('are you sure you want to delete categories?')) {deleteCategory();}"> Do it! </button>
                    </fieldset>                   
                    <fieldset><legend>Add new category</legend>
                        <p><label>Name: </label><input type="text" id="newCategoryName"></p>                
                        <button onclick="addNewCategory();">Save</button>
                    </fieldset>
            </div>

            <div id="NewEvent" class="tabcontent" style="display:block">
                <h3>New entry</h3>
                <p><label>Text:</label> <input type="text" id="text"></p>
                <p><label>Date:</label> <input type="text"  id="date"></p>
                <p><label>Category:</label> <select id="categoryToAdd"></select></p>
                <button onclick="addNewEntry();">Save</button>
                
            </div>
        
        <div id="Logbook" class="tabcontent">
            <div class="cols-10">
                <div><label>From: </label> <input type="text" id="from"></div>
                <div><label>To: </label> <input type="text" id="to" ></div>
                <div><label>Categories: </label> <div id="categoryList2"></div></div>
                <input type="checkbox" id="timeSlots"> <label for="timeSlots">Divide by timeslots</label>
                <div><label>timeslot length (in h)</label> <input type="text" id="slotLength"> </div>
                <div><label>timeslots start at</label> <input type="text" id="slotstart"></div>
                <div><label>timeslots end at </label> <input type="text" id="slotend"></div>
    
                <button onclick="fetchData();">Fetch data</button>
            </div> 
        
        <div id="tablecontainer">
            <table id="resulttable" class="table table-striped table-bordered"></table>       
        </div>
        </div>
        </div>
    </div>
       
    </body>
</html>